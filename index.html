<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Math Quest: The Enchanted Forest Adventure</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <!-- Intro Screen -->
        <div id="intro-screen">
            <h1>Math Quest</h1>
            <p>Welcome to the Enchanted Forest, where math and magic meet!</p>
            <p>Can you help restore harmony by solving the challenges ahead?</p>
            <button onclick="goToCharacterSelection()">Begin Your Adventure</button>
            <button onclick="loadGame()">Load Saved Game</button>
        </div>

        <!-- Character Selection Screen -->
        <div id="character-screen" style="display: none;">
            <h2>Choose Your Character</h2>
            <input type="text" id="player-name" placeholder="Enter your name">
            <div class="character-selection">
                <div class="character-option" onclick="selectCharacter('knight')">
                    <div class="avatar knight" id="knight-avatar"></div>
                    <p>Knight</p>
                </div>
                <div class="character-option" onclick="selectCharacter('wizard')">
                    <div class="avatar wizard" id="wizard-avatar"></div>
                    <p>Wizard</p>
                </div>
                <div class="character-option" onclick="selectCharacter('explorer')">
                    <div class="avatar explorer" id="explorer-avatar"></div>
                    <p>Explorer</p>
                </div>
                <!-- More avatar options -->
                <div class="character-option" onclick="selectCharacter('elf')">
                    <div class="avatar elf" id="elf-avatar"></div>
                    <p>Elf</p>
                </div>
                <div class="character-option" onclick="selectCharacter('fairy')">
                    <div class="avatar fairy" id="fairy-avatar"></div>
                    <p>Fairy</p>
                </div>
            </div>
            <p>Customize Your Avatar's Color:</p>
            <input type="color" id="avatar-color" value="#ff0000">
        </div>

        <!-- Game Screen -->
        <div id="game-screen" style="display: none;">
            <div class="status-bar">
                <div>Level: <span id="level">1</span></div>
                <div>Gems: <span id="gems">0</span></div>
                <div>Name: <span id="display-name"></span></div>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                </div>
                <div class="progress-info">
                    <span>Correct: <span id="correct-answers">0</span></span>
                    <span>Incorrect: <span id="incorrect-answers">0</span></span>
                    <span>Remaining: <span id="remaining-questions">10</span></span>
                </div>
            </div>
            <div class="game-area">
                <div class="map" id="map">
                    <div id="progress-marker"></div>
                </div>
                <div class="interaction-area">
                    <div id="creature" class="creature"></div>
                    <p id="question"></p>
                    <input type="number" id="answer" placeholder="Your answer" autocomplete="off">
                    <button onclick="submitAnswer()">Submit</button>
                    <div id="feedback"></div>
                    <div class="game-buttons">
                        <button onclick="goBack()">Go Back</button>
                        <button onclick="saveGame()">Save</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- End Screen -->
        <div id="end-screen" style="display: none;">
            <h2>Congratulations, <span id="final-name"></span>!</h2>
            <p>You have restored harmony to the Enchanted Forest!</p>
            <p>Total Gems Collected: <span id="total-gems"></span></p>
            <div id="achievements">
                <h3>Your Achievements</h3>
                <ul id="achievement-list"></ul>
            </div>
            <div id="leaderboard">
                <h3>Leaderboard</h3>
                <div id="leaderboard-entries"></div>
            </div>
            <button onclick="restartGame()">Play Again</button>
        </div>
    </div>

    <!-- Include EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.emailjs.com/sdk/3.2.0/email.min.js"></script>
    <script type="text/javascript">
       (function(){
          emailjs.init('YOUR_USER_ID'); // Replace with your EmailJS user ID
       })();
    </script>

    <!-- Your script.js file -->
    <script src="script.js"></script>
</body>
</html>
